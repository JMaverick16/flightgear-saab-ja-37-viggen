<?xml version="1.0"?>


<PropertyList>

  <model>
    <path>Aircraft/JA37/Models/Effects/proc-als-lights/beacon-light.xml</path>
    <name>glow</name>
  </model>
  
  <nopreview/>
  
  <!-- Top (red) beacon light -->

  <offsets>
    <x-m> 0.45039</x-m>
    <y-m> 0</y-m>
    <z-m> 1.05</z-m>
  </offsets>

  <!-- Special Shaders -->
  
  <animation>
    <type>noshadow</type>
    <object-name>glow</object-name>
  </animation>


  <!--<effect>
    <inherits-from>Effects/model-transparent</inherits-from>
    <object-name>glow</object-name>
  </effect>-->

  <!-- Animations -->
<!--
 <animation>
  <type>dist-scale</type>
  <object-name>LightBeaconGlow</object-name>
  <interpolation>
   <entry><ind>0</ind><dep>1.0</dep></entry>
   <entry><ind>5000</ind><dep>50.0</dep></entry>
  </interpolation>
 </animation>

<animation>
  <type>material</type>
  <object-name>LightBeaconGlow</object-name>
  <emission>
   <red>1.0</red>
   <green>1.0</green>
   <blue>1.0</blue>
   <factor-prop>sim/multiplay/generic/float[1]</factor-prop>
  </emission>
 </animation>

  <animation>
    <type>scale</type>
    <object-name>LightBeaconGlow</object-name>
    <property>sim/multiplay/generic/float[1]</property>
    <x-min>0.01</x-min>
    <y-min>0.01</y-min>
    <z-min>0.01</z-min>
    <x-factor>1.0</x-factor>
    <y-factor>1.0</y-factor>
    <z-factor>1.0</z-factor>
  </animation>

  <animation>
    <type>scale</type>
    <object-name>LightBeaconGlow</object-name>
    <property>/sim/time/sun-angle-rad</property>
    <x-min>0.000</x-min>
    <y-min>0.000</y-min>
    <z-min>0.000</z-min>
    <x-offset>-1</x-offset>
    <y-offset>-1</y-offset>
    <z-offset>-1</z-offset>
    <x-factor>1</x-factor>
    <y-factor>1</y-factor>
    <z-factor>1</z-factor>
  </animation>--><!-- sim/model/lighting/beacon/state -->

  <animation>
    <type>spin</type>
    <object-name>glow</object-name>
    <!-- Afaik, flightgear does not allow a value as input here. Instead, we
         need a property which is (almost) always 1, and exists on every model
         (to ensure proper rendering over MP). This should work well enough. -->
    <property>/sim/fdm-initialized</property>
    <factor>50</factor>
    <center>
        <x-m>0</x-m>
        <y-m>0.0</y-m>
        <z-m>0</z-m>
    </center>
    <axis>
        <x>0</x>
        <y>0</y>
        <z>1</z>
    </axis>
  </animation>

  <animation>
    <type>select</type>
    <object-name>glow</object-name>
    <condition>
      <or><!-- beacon: bit 2 -->
        <equals>
          <property>sim/multiplay/generic/int[9]</property>
          <value>2</value>
        </equals>
        <equals>
          <property>sim/multiplay/generic/int[9]</property>
          <value>3</value>
        </equals>
        <equals>
          <property>sim/multiplay/generic/int[9]</property>
          <value>6</value>
        </equals>            
        <equals>
          <property>sim/multiplay/generic/int[9]</property>
          <value>7</value>
        </equals>       
      </or>
    </condition>
  </animation>
</PropertyList>
