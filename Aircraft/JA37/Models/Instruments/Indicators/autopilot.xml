<?xml version="1.0"?>

<PropertyList>
    <path>autopilot.ac</path>

	<effect>
		<inherits-from>Aircraft/JA37/Models/Effects/ja37-cockpit-shader</inherits-from>
		<object-name>mount</object-name>
		<object-name>btAtt</object-name>
		<object-name>btAlt</object-name>
		<object-name>btStick</object-name>
	</effect>

	<animation>
		<type>pick</type>
		<object-name>att</object-name>
		<hovered>
			<binding>
				<command>set-tooltip</command>
				<tooltip-id>Attitude Indicator</tooltip-id>
				<label>Autopilot: ATT Mode</label>
				<property>/instrumentation/attitude-indicator</property>
			</binding>
		</hovered>
		<action>
			<button>0</button>
			<repeatable>false</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					autoflight.System.engageMode(2);
					ja37.click();
				</script>
			</binding>
			<binding>
				<command>property-assign</command>
				<property>ja37/avionics/button-att</property>
				<value>1</value>
			</binding>
			<mod-up>
				<binding>
					<command>property-assign</command>
					<property>ja37/avionics/button-att</property>
					<value>0</value>
				</binding>
			</mod-up>
		</action>
	</animation>

	<animation>
		<type>material</type>
		<object-name>att</object-name>
		<emission>
			<red>0.0</red>
			<green>1.0</green>
			<blue>0.0</blue>
			<factor-prop>fdm/jsbsim/autoflight/att-light</factor-prop>
		</emission>
	</animation>

	<animation>
		<type>translate</type>
		<object-name>att</object-name>
		<object-name>btAtt</object-name>
		<property>ja37/avionics/button-att</property>
		<factor>0.005</factor>
		<axis>
			<x>-1</x>
		</axis>
		<center>
			<x-m>0</x-m>
			<y-m>0</y-m>
			<z-m>0</z-m>
		</center>
	</animation>

	<animation>
		<type>pick</type>
		<object-name>alt</object-name>
		<hovered>
			<binding>
				<command>set-tooltip</command>
				<tooltip-id>Altitude Warning Indicator</tooltip-id>
				<label>Autopilot: ALT Mode</label>
				<property>/instrumentation/altitude-indicator</property>
			</binding>
		</hovered>
		<action>
			<button>0</button>
			<repeatable>false</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					autoflight.System.engageMode(3);
					ja37.click();
				</script>
			</binding>
			<binding>
				<command>property-assign</command>
				<property>ja37/avionics/button-alt</property>
				<value>1</value>
			</binding>
			<mod-up>
				<binding>
					<command>property-assign</command>
					<property>ja37/avionics/button-alt</property>
					<value>0</value>
				</binding>
			</mod-up>
		</action>
	</animation>

	<animation>
		<type>material</type>
		<object-name>alt</object-name>
		<emission>
			<red>0.0</red>
			<green>1.0</green>
			<blue>0.0</blue>
			<factor-prop>fdm/jsbsim/autoflight/alt-light</factor-prop>
		</emission>
	</animation>

	<animation>
		<type>translate</type>
		<object-name>alt</object-name>
		<object-name>btAlt</object-name>
		<property>ja37/avionics/button-alt</property>
		<factor>0.005</factor>
		<axis>
			<x>-1</x>
		</axis>
		<center>
			<x-m>0</x-m>
			<y-m>0</y-m>
			<z-m>0</z-m>
		</center>
	</animation>

	<animation>
		<type>pick</type>
		<object-name>stick</object-name>
		<hovered>
			<binding>
				<command>set-tooltip</command>
				<tooltip-id>Spak Indicator</tooltip-id>
				<label>Autopilot: STICK Mode</label>
				<property>/instrumentation/joystick-indicator</property>
			</binding>
		</hovered>
		<action>
			<button>0</button>
			<repeatable>false</repeatable>
			<binding>
				<command>nasal</command>
				<script>
					autoflight.System.engageMode(1);
					ja37.click();
				</script>
			</binding>
			<binding>
				<command>property-assign</command>
				<property>ja37/avionics/button-stck</property>
				<value>1</value>
			</binding>
			<mod-up>
				<binding>
					<command>property-assign</command>
					<property>ja37/avionics/button-stck</property>
					<value>0</value>
				</binding>
			</mod-up>
		</action>
	</animation>

	<animation>
		<type>material</type>
		<object-name>stick</object-name>
		<emission>
			<red>0.0</red>
			<green>1.0</green>
			<blue>0.0</blue>
			<factor-prop>fdm/jsbsim/autoflight/stick-light</factor-prop>
		</emission>
	</animation>

	<animation>
		<type>translate</type>
		<object-name>stick</object-name>
		<object-name>btStick</object-name>
		<property>ja37/avionics/button-stck</property>
		<factor>0.005</factor>
		<axis>
			<x>-1</x>
		</axis>
		<center>
			<x-m>0</x-m>
			<y-m>0</y-m>
			<z-m>0</z-m>
		</center>
	</animation>

</PropertyList>
